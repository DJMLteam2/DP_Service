{{>layouts/header}}

<style>
    .my_img {
        vertical-align: middle;
        position: absolute;
        top: 0;
        bottom: 0;
        margin: auto;
        max-width: 100%;
        height: auto;
    }
    
    section {
        padding: 60px 0;
    }
    
    .row-sm .col-md-6 {
        padding-left: 5px;
        padding-right: 5px;
    }
    
    ._boxzoom ._product-images .picZoomer img.my_img {
        width: 100%;
    }
    
    ._product-detail-content {
        background: #fff;
        padding: 15px;
        border: 1px solid lightgray;
    }
    
    ._product-detail-content p._p-name {
        color: black;
        font-size: 20px;
        border-bottom: 1px solid lightgray;
        padding-bottom: 12px;
    }
    
    .p-list span {
        margin-right: 15px;
    }
    
    .p-list span.price {
        font-size: 25px;
        color: #318234;
    }
    
    ._p-qty > span {
        color: black;
        margin-right: 15px;
        font-weight: 500;
    }
    
    ._p-qty .value-button {
        display: inline-flex;
        border: 0px solid #ddd;
        margin: 0px;
        width: 30px;
        height: 35px;
        justify-content: center;
        align-items: center;
        background: #fd7f34;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        color: #fff;
    }
    
    ._p-qty .value-button {
        border: 0px solid #fe0000;
        height: 35px;
        font-size: 20px;
        font-weight: bold;
    }
    
    ._p-add-cart .buy-btn {
        background-color: #fd7f34;
        color: #fff;
    }
    ._p-add-cart .btn {
        text-transform: capitalize;
        padding: 6px 20px;
        /* width: 200px; */
        border-radius: 52px;
    }
    ._p-add-cart .btn {
        margin: 0px 8px;
    }
    
    /*=========Recent-post==========*/
    .title_bx h3.title {
        font-size: 22px;
        text-transform: capitalize;
        position: relative;
        color: #fd7f34;
        font-weight: 700;
        line-height: 1.2em;
    }
    .title_bx h3.title:before {
        content: "";
        height: 2px;
        width: 20%;
        position: absolute;
        left: 0px;
        z-index: 1;
        top: 40px;
        background-color: #fd7f34;
    }
    .title_bx h3.title:after {
        content: "";
        height: 2px;
        width: 100%;
        position: absolute;
        left: 0px;
        top: 40px;
        background-color: #ffc107;
    }
    .common_wd .owl-nav .owl-prev, .common_wd .owl-nav .owl-next {
        background-color: #fd7f34 !important;
        display: block;
        height: 30px;
        width: 30px;
        text-align: center;
        border-radius: 0px !important;
    }
    .owl-nav .owl-next {
        right:-10px;
    }
    .owl-nav .owl-prev, .owl-nav .owl-next {
        top:50%;
        position: absolute;
    }
    .common_wd .owl-nav .owl-prev i, .common_wd .owl-nav .owl-next i {
        color: #fff;
        font-size: 14px !important;
        position: relative;
        top: -1px;
    }
    .common_wd .owl-nav {
        position: absolute;
        top: -21%;
        right: 4px;
        width: 65px;
    }
    .owl-nav .owl-prev i, .owl-nav .owl-next i {
        left: 0px;
    }
    ._p-qty .decrease_ {
        position: relative;
        right: -5px;
        top: 3px;
    }
    
    ._p-qty .increase_ {
        position: relative;
        top: 3px;
        left: -5px;
    }
    /*========box========*/
    .sq_box {
        padding-bottom: 5px;
        border-bottom: solid 2px #fd7f34;
        background-color: #fff;
        text-align: center;
        padding: 15px 10px;
        margin-bottom: 20px;
        border-radius: 4px;
    }
    .item .sq_box span.wishlist {
        right: 5px !important;
    }
    .sq_box span.wishlist {
        position: absolute;
        top: 10px;
        right: 20px;
    }
    .sq_box span {
        font-size: 14px;
        font-weight: 600;
        margin: 0px 10px;
    }
    .sq_box span.wishlist i {
        color: #adb5bd;
        font-size: 20px;
    }
    .sq_box h4 {
        font-size: 18px;
        text-align: center;
        font-weight: 500;
        color: #343a40;
        margin-top: 10px;
        margin-bottom: 10px !important;
    }
    .sq_box .btn {
        border-radius: 50px;
        padding: 5px 13px;
        font-size: 15px;
        color: #fff;
        background-color: #fd7f34;
        font-weight: 600;
    }
    .sq_box .price-box span.price {
        color: #6c757d;
    }
    .sq_box span {
        font-size: 14px;
        font-weight: 600;
        margin: 0px 10px;
    }
    .sq_box .price-box span.offer-price {
        color:#28a745;
    }
    .sq_box img {
        object-fit: cover;
        height: 150px !important;
        margin-top: 20px;
    }
    .sq_box span.wishlist i:hover {
        color: #fd7f34;
    }
</style>

<boby>
    <form method="post" action="tagAdd">
        <div class="container-fluid">
            <div class="row row-sm">
                <div class="col-md-6 _boxzoom">
                    <div class="_product-images">
                        <div class="picZoomer">
                            <div class="_product-detail-content">
                                <img class="my_img" alt="">
                            </div>
                        </div>
                    </div>
                </div>
                {{#searchResults_1}}
                <div class="col-md-6">
                    <div class="_product-detail-content">
                        <p class="_p-name">{{title}}</p>
                        <div class="_p-price-box">
                            <div class="p-list">
                                <span class="price">지역 상세 정보</span>
                            </div>
                            <div class="_p-add-cart">
                                <div class="_p-qty">
                                    <span>Add Quantity</span>
                                </div>
                            </div>
                            <div class="_p-features">
                                <span> {{addr}}</span><br>
                                {{catchtitle}}<br>
                                {{tagName}}
                            </div>
                            </div>
                            /* 바로 가기 버튼*/
                            <ul class="spe_ul"></ul>
                                <div class="_p-qty-and-cart">
                                    <div class="_p-add-cart">
                                        <button class="btn-theme btn buy-btn" tabindex="0">
                                            지도로 가기
                                        </button>
                                        <button class="btn-theme btn buy-btn" tabindex="0">
                                            추천 경로 가기
                                        </button>
                                    </div>
                                </div>
                                {{/searchResults_1}}
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="sec bg-light">
       <div class="container">
          <div class="row">
             <div class="col-sm-12 title_bx">
                <h3 class="title"> 여기 어때? </h3>
             </div>
          </div>
          <div class="row">
             <div class="col-md-12 list-slider mt-4">
                <div class="owl-carousel common_wd  owl-theme" id="recent_post">
                    {{#searchResults_2}}
                    <div class="item">
                        <div class="sq_box shadow">
                        /* serach_box_title */
                        <div class="pdis_img"> 
                            <span class="wishlist">
                            <a alt="Add to Wish List" title="Add to Wish List"></a>
                            </span>
                            <a href="#">
                            <img src="https://ucarecdn.com/05f649bf-b70b-4cf8-90f7-2588ce404a08/-/resize/680x/"> 
                            </a>
                         </div>
                        <h4 class="mb-1"> {{title}} </h4>
                         <div class="price-box mb-2">
                            <span class="price"> Price <i class="fa fa-inr"></i> {{area}} </span>
                         </div>
                         <div class="btn-box text-center">
                            <a class="btn btn-sm" /* href 사용*/> 바로가기 </a>
                         </div>
                      </div>
                   </div>
                   {{/searchResults_2}}
                   {{#searchResults_3}}
                    <div class="item">
                        <div class="sq_box shadow">
                        /* serach_box_title */
                        <div class="pdis_img"> 
                            <span class="wishlist">
                            <a alt="Add to Wish List" title="Add to Wish List"></a>
                            </span>
                            <a href="#">

                            <img src="https://ucarecdn.com/05f649bf-b70b-4cf8-90f7-2588ce404a08/-/resize/680x/"> 
                            </a>
                         </div>
                        <h4 class="mb-1"> {{title}} </h4>
                         <div class="price-box mb-2">
                            <span class="price"> Price <i class="fa fa-inr"></i> {{area}} </span>
                         </div>
                         <div class="btn-box text-center">
                            <a class="btn btn-sm" > 바로가기 </a>
                         </div>
                      </div>
                   </div>
                   {{/searchResults_3}}
                   {{#searchResults_8}}
                    <div class="item">
                        <div class="sq_box shadow">
                        /* serach_box_title */
                        <div class="pdis_img"> 
                            <span class="wishlist">
                            <a alt="Add to Wish List" title="Add to Wish List"></a>
                            </span>
                            <a href="#">

                            <img src="https://ucarecdn.com/05f649bf-b70b-4cf8-90f7-2588ce404a08/-/resize/680x/"> 
                            </a>
                         </div>
                        <h4 class="mb-1"> {{title}} </h4>
                         <div class="price-box mb-2">
                            <span class="price"> Price <i class="fa fa-inr"></i> {{area}} </span>
                         </div>
                         <div class="btn-box text-center">
                            <a class="btn btn-sm" > 바로가기 </a>
                         </div>
                      </div>
                   </div>
                   {{/searchResults_8}}
                   {{#searchResults_4}}
                    <div class="item">
                        <div class="sq_box shadow">
                        /* serach_box_title */
                        <div class="pdis_img"> 
                            <span class="wishlist">
                            <a alt="Add to Wish List" title="Add to Wish List"></a>
                            </span>
                            <a href="#">

                            <img src="https://ucarecdn.com/05f649bf-b70b-4cf8-90f7-2588ce404a08/-/resize/680x/"> 
                            </a>
                         </div>
                        <h4 class="mb-1"> {{title}} </h4>
                         <div class="price-box mb-2">
                            <span class="price"> Price <i class="fa fa-inr"></i> {{area}} </span>
                         </div>
                         <div class="btn-box text-center">
                            <a class="btn btn-sm" > 바로가기 </a>
                         </div>
                      </div>
                   </div>
                   {{/searchResults_4}}
                   {{#searchResults_5}}
                    <div class="item">
                        <div class="sq_box shadow">
                        /* serach_box_title */
                        <div class="pdis_img">
                            <span class="wishlist">
                            <a alt="Add to Wish List" title="Add to Wish List"></a>
                            </span>
                            <a href="#">
                            <img src="https://ucarecdn.com/05f649bf-b70b-4cf8-90f7-2588ce404a08/-/resize/680x/"> 
                            </a>
                         </div>
                        <h4 class="mb-1"> {{title}} </h4>
                         <div class="price-box mb-2">
                            <span class="price"> Price <i class="fa fa-inr"></i> {{area}} </span>
                         </div>
                         <div class="btn-box text-center">
                            <a class="btn btn-sm" > 바로가기 </a>
                         </div>
                      </div>
                   </div>
                   {{/searchResults_5}}
                   {{#searchResults_6}}
                    <div class="item">
                        <div class="sq_box shadow">
                        /* serach_box_title */
                        <div class="pdis_img"> 
                            <span class="wishlist">
                            <a alt="Add to Wish List" title="Add to Wish List"></a>
                            </span>
                            <a href="#">
                            <img src="https://ucarecdn.com/05f649bf-b70b-4cf8-90f7-2588ce404a08/-/resize/680x/"> 
                            </a>
                         </div>
                        <h4 class="mb-1"> {{title}} </h4>
                         <div class="price-box mb-2">
                            <span class="price"> Price <i class="fa fa-inr"></i> {{area}} </span>
                         </div>
                         <div class="btn-box text-center">
                            <a class="btn btn-sm"> 바로가기 </a>
                         </div>
                      </div>
                   </div>
                   {{/searchResults_6}}
                   {{#searchResults_7}}
                   <div class="item">
                        <div class="sq_box shadow">
                        /* serach_box_title */
                        <div class="pdis_img"> 
                            <span class="wishlist">
                            <a alt="Add to Wish List" title="Add to Wish List"></a>
                            </span>
                            <a href="#">
                            <img src="https://ucarecdn.com/05f649bf-b70b-4cf8-90f7-2588ce404a08/-/resize/680x/"> 
                            </a>
                        </div>
                        <h4 class="mb-1"> {{title}} </h4>
                        <div class="price-box mb-2">
                            <span class="price"> Price <i class="fa fa-inr"></i> {{area}} </span>
                        </div>
                        <div class="btn-box text-center">
                           <a class="btn btn-sm" > 바로가기 </a>
                        </div>
                        </div>
                    </div>
                  {{/searchResults_7}}
                </div>
             </div>
          </div>
       </div>
    </section>
</boby>
<script>
;(function ($) {
    $.fn.picZoomer = function (options) {
        var opts = $.extend({}, $.fn.picZoomer.defaults, options),
            $this = this,
            $picBD = $('<div class="picZoomer-pic-wp"></div>').css({
                'width': opts.picWidth + 'px',
                'height': opts.picHeight + 'px'
            }).appendTo($this),
            $pic = $this.children('img').addClass('picZoomer-pic').appendTo($picBD),
            $cursor = $('<div class="picZoomer-cursor"><i class="f-is picZoomCursor-ico"></i></div>').appendTo($picBD),
            cursorSizeHalf = {
                w: $cursor.width() / 2,
                h: $cursor.height() / 2
            },
            $zoomWP = $('<div class="picZoomer-zoom-wp"><img src="" alt="" class="picZoomer-zoom-pic"></div>').appendTo($this),
            $zoomPic = $zoomWP.find('.picZoomer-zoom-pic'),
            picBDOffset = {
                x: $picBD.offset().left,
                y: $picBD.offset().top
            };

        opts.zoomWidth = opts.zoomWidth || opts.picWidth;
        opts.zoomHeight = opts.zoomHeight || opts.picHeight;
        var zoomWPSizeHalf = {
            w: opts.zoomWidth / 2,
            h: opts.zoomHeight / 2
        };

        // 초기화: zoom 컨테이너 크기
        $zoomWP.css({
            'width': opts.zoomWidth + 'px',
            'height': opts.zoomHeight + 'px'
        });
        $zoomWP.css(opts.zoomerPosition || {
            top: 0,
            left: opts.picWidth + 30 + 'px'
        });
        // 초기화: zoom 이미지 크기
        $zoomPic.css({
            'width': opts.picWidth * opts.scale + 'px',
            'height': opts.picHeight * opts.scale + 'px'
        });

        // 이벤트 초기화
        $picBD.on('mouseenter', function (event) {
            $cursor.show();
            $zoomWP.show();
            $zoomPic.attr('src', $pic.attr('src'))
        }).on('mouseleave', function (event) {
            $cursor.hide();
            $zoomWP.hide();
        }).on('mousemove', function (event) {
            var x = event.pageX - picBDOffset.x,
                y = event.pageY - picBDOffset.y;

            $cursor.css({
                'left': x - cursorSizeHalf.w + 'px',
                'top': y - cursorSizeHalf.h + 'px'
            });
            $zoomPic.css({
                'left': -(x * opts.scale - zoomWPSizeHalf.w) + 'px',
                'top': -(y * opts.scale - zoomWPSizeHalf.h) + 'px'
            });
        });

        // 텍스트 내용에 따라 메인 이미지 크기 조정하는 함수
        this.adjustMainImageSize = function () {
            // 텍스트 내용에 따라 메인 이미지 크기를 조정하는 로직을 작성해주세요
            // 예를 들어:
            var newTextSize = 20; // 실제 로직에 맞게 값을 변경하세요
            $picBD.css({
                'width': newTextSize + 'px',
                'height': newTextSize + 'px'
            });
        };

        return $this;
    };
    $.fn.picZoomer.defaults = {
        picHeight: 460,
        scale: 2.5,
        zoomerPosition: {
            top: '0',
            left: '380px'
        },
        zoomWidth: 400,
        zoomHeight: 460
    };
})(jQuery);

$(document).ready(function () {
    var $picZoomer = $('.picZoomer');
    $picZoomer.picZoomer();

    $picZoomer.adjustMainImageSize(); // 텍스트 내용에 따라 메인 이미지 크기 조정 함수 호출

    $('.piclist li').on('click', function (event) {
        var $pic = $(this).find('img');
        $picZoomer.find('.picZoomer-pic').attr('src', $pic.attr('src'));
    });

    var owl = $('#recent_post');
    owl.owlCarousel({
        margin: 20,
        dots: false,
        nav: true,
        navText: [
            "<i class='fa fa-chevron-left'></i>",
            "<i class='fa fa-chevron-right'></i>"
        ],
        autoplay: true,
        autoplayHoverPause: true,
        responsive: {
            0: {
                items: 2
            },
            600: {
                items: 3
            },
            1000: {
                items: 5
            },
            1200: {
                items: 4
            }
        }
    });

    $('.decrease_').click(function () {
        decreaseValue(this);
    });

    $('.increase_').click(function () {
        increaseValue(this);
    });

    function increaseValue(_this) {
        var value = parseInt($(_this).siblings('input#number').val(), 10);
        value = isNaN(value) ? 0 : value;
        value++;
        $(_this).siblings('input#number').val(value);
    }

    function decreaseValue(_this) {
        var value = parseInt($(_this).siblings('input#number').val(), 10);
        value = isNaN(value) ? 0 : value;
        value < 1 ? value = 1 : '';
        value--;
        $(_this).siblings('input#number').val(value);
    }
});

    // Get the _p-features div and the image element
    var featuresDiv = document.getElementById("product-description");
    var imageElement = featuresDiv.querySelector("img.my_img");

    // Check if the image exists
    if (imageElement) {
        // Set the image width to the width of the _p-features div
        imageElement.style.width = featuresDiv.clientWidth + "px";
    }
</script>
